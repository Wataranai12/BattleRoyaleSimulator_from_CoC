# BattleRoyaleSimulator_from_CoC
## サービス概要
本アプリは、自分で作ったキャラクター同士を戦わせる、
バトルロワイヤル形式の自動戦闘シミュレーターです。
キャラクターデータを読み込むだけで、戦闘結果を手軽にシミュレーションできます。

## このサービスへの思い・作りたい理由
「このキャラとあのキャラが戦ったらどっちが勝つんだろう？」そんなことを考えたことはありませんか。
友人とクトゥルフ神話TRPGを遊ぶ中で、そういう雑談がよく出ていました。<br>
しかし、死の概念を含むゲームシステム、複雑な戦闘処理、スケジュール調整などの理由から、
実際に戦わせることは難しいと感じていました。<br>
そこで、戦闘ルールだけを切り出して自動処理できるツールがあれば、もっと気軽に遊べるのではないか
と思ったことが、このサービスを作るきっかけです。

## ユーザー層について
* メインターゲット：クトゥルフ神話TRPGのプレイヤー・KP
  * 探索者同士の強さ比較や、雑談用途として楽しめる
* サブターゲット：TRPGを知らないけど、ちょっと気になる人
  * ルールを覚えなくても遊べる
* サブターゲット：バトルやシミュレーションを眺めるのが好きな人
  * 難しい操作なしでオートバトルを楽しめる（サンプルデータを用意する）
###### 主にプレイヤー同士の話題作りや、プレイヤーでない人への入口を想定しています。

## サービスの利用イメージ
ユーザーは探索者データを読み込む、もしくは用意されたサンプル探索者を選び、
参加させたいキャラクターを選択して戦闘を開始します。
戦闘は自動で進行し、命中・回避・ダメージなどの結果がログとして表示されます。
* 本来想定されない「仲間内での戦闘」を試すことができる
* 作成キャラクターの個性を別の形で楽しむ
* クトゥルフ神話TRPGにおける戦闘部分の体験

#### 探索者データの読込について
* 読込方法は２通りを想定しています。
  * キャラクターデータを保管する各種Webサービスでtxt形式のデータを出力してもらい、当アプリにアップロードしていただく  
 　 （例）[Webサービス「いあきゃら」の出力画面](https://i.gyazo.com/432b1bd8cb5759d3a9f11dfaadcd0054.png)
  * キャラクターデータを保管する各種Webサービスでテキスト形式のデータを表示し、当アプリのフォームにコピペしていただく  
　　（例）[Webサービス「Charaeno」の出力画面](https://gyazo.com/f7ff7505b9fcca25c0f6ac5793fe0e8f)

#### 戦闘形式についての想定
* 同時戦闘キャラクター数：最小２人～最大４人
* 個人戦モードとチーム戦モードがあり、切り替え可能

#### 操作の流れ
* ユーザーが各保管サービスでデータを出力する
* 出力されたデータを読み込む
* 戦闘開始ボタンを押すと１ターンずつ進行する
* 最後の一人になる、もしくは同チームだけになるとログの出力が終わる
* この段階でログの出力を押すと戦闘結果や戦闘の様子のログをファイルとして出力できる
* 戦闘終了ボタンを押すと最初の状態にリセットされる
* 初期状態においてはキャラクターの入れ替えができる

#### 想定される利用対象
* ユーザー自身が作成、管理するデータ
* 管理する本人から使用許可を得たデータ（知人の管理するデータなど）  
※ルールブックに記載されたキャラクターデータ等は使用しないこと  
※商用利用不可  
その他、利用者や閲覧者が不快・不利益を被らないように利用しよう！

## ユーザーの獲得について
###### 戦闘ログの出力機能やスクリーンショットを以下の方法で活用してもらうことを想定しています。
* クトゥルフ神話TRPGを扱うコミュニティやDiscordでの共有をしてもらう
* SNS（X など）での投稿

## サービスの差別化ポイント・推しポイント
#### 類似サービスとの比較
* AIバトラー：固定のステータス設定方法で自動戦闘。自由度が高いが、プロンプト次第でバランス崩壊が起きやすい
* 戦闘特化KPレスシナリオ：戦闘を主軸に置いた一人で遊べるシナリオ類。処理は手動で、読了まで時間がかかる
* CoC探索者アイスチャレンジ：クリック判定のミニゲーム。1キャラずつの単発プレイ向け
* 新クトゥルフ神話TRPG戦闘シミュレータ：Python製CoC7版シミュレータ。CLI操作が必要だが実戦再現度は高い

サービス名 | 操作の手間 | ルール知識 | 複数キャラ | データ読込 
-- | -- | -- | -- | -- 
AIバトラー | 少 | 不要 | 可 | 不可
戦闘特化KPレスシナリオ | 多 | 必要 | 可 | 部分的に可
CoC探索者アイスチャレンジ | 少 | 不要 | 不可 | 不可
新クトゥルフ神話TRPG戦闘シミュレータ | 多 | 必要 | 可 | 不可
当アプリ | 少 | 不要 | 可 | 可 

#### 推しポイント
* 短時間かつシンプル操作
  * 手軽にサクッと遊べる設計にしています
* キャラクターデータをそのまま使える
  * 他所のキャラクター管理Webサービスから出力したtxtデータを読み込めます
* ルールを知らなくても遊べる
  * 処理は勝手にやってくれるので知らない人も遊べます

## 機能候補
###### MVPリリース時に作っていたいもの
* キャラクターの登録・読み込み・削除
* 複数キャラによる自動バトル
* バトル結果のログ表示・出力
* サンプルキャラの用意
###### 本リリースまでに作っていたいもの
* 遊び方や用語の紹介ページ
* 読み込んだキャラクターの保存機能
* GeminiAPIによる戦闘実況機能

## 今後の展開（将来的なアップデート）
* より詳細な戦闘ルールへの準拠
* ホームルールとしてよく使われるものの採用
* 呪文や範囲攻撃などより多彩な戦闘方法への対応

## 使用する技術スタック  
###### フレームワーク
* Ruby3.1以降
  * YJIT
* Ruby on Rails7以降
  * Hotwire
  * Importmaps
* JavaScript
###### データベース
* PostgreSQL
* Redis（場合に応じて追加）
###### デプロイ先（Heroku / Renderなど）
* Render.com
* Docker
###### 使用予定のライブラリ
* google-generative-ai
* tailwindcss-rails
* dotenv-rails
* sidekiq

###### 本作は、「 株式会社アークライト 」及び「株式会社KADOKAWA」が権利を有する『クトゥルフ神話TRPG』の二次創作物です。  
###### Call of Cthulhu is copyright ©1981, 2015, 2019 by Chaosium Inc. ;all rights reserved. Arranged by Arclight Inc.  
###### Call of Cthulhu is a registered trademark of Chaosium Inc.  
###### PUBLISHED BY KADOKAWA CORPORATION　「クトゥルフ神話TRPG」  
